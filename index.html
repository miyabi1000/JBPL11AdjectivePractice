<!doctype html>
<html lang="en">
<head>
<meta charset=utf-8">
<title>Adjective Test Lesson 11</title>
<style type="text/css">
.topClass {
	vertical-align: top;
        margin: auto;
}
.mStyle {
        /* border-radius: 5px;
    	border: 2px solid #2345a9;  */
	padding: 5px 5px;
	width: 600px;
        /*height: 50px; */
        /*align:left;*/
        vertical-align: top;
        /*display: table-cell;*/
        margin: auto; 
}
.button {
    background-color: #d5def8 ;
    /* border: none;
    color: white;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;*/
    font-weight: bold;
    /* display: inline-block;*/
    font-size: 18px;
    font-family:UD Digi Kyokasho N-R;
}
.textfield {
    border-radius: 5px;
    border: 2px solid #2345a9;
    font-size: 14px;
    font-weight: bold;
    /* color: #2345a9; */
    padding: 3px 3px;
    
}
body {
    margin: 0;
    padding: 0;
    text-align: center; /* !!! */
}

.centered {
    margin: 0 auto;
    text-align: left;
    width: 800px;
}
</style>
<script type="text/javascript">
var totalTried = 0;
var totalCorrect = 0;
var yourScore = 0;
var isScoreUpdated = false;

<!-- SCORM API Related -->


function findAPI(win)
{
   // Check to see if the window (win) contains the API
   // if the window (win) does not contain the API and
   // the window (win) has a parent window and the parent window
   // is not the same as the window (win)
   if ( (win.API == null) &&
           (win.parent != null) &&
           (win.parent != win) )
   {
      
      win = win.parent;
   }
   return win.API;
}
function getAPI()
{
   // start by looking for the API in the current window
   var theAPI = findAPI(window);

   // if the API is null (could not be found in the current window)
   // and the current window has an opener window
   if ( (theAPI == null) &&
        (window.opener != null) &&
        (typeof(window.opener) != "undefined") )
   {
      // try to find the API in the current window’s opener
      theAPI = findAPI(window.opener);
   }
   
   return theAPI;
}
//Constants
var SCORM_TRUE = "true";
var SCORM_FALSE = "false";
var SCORM_NO_ERROR = "0";

//Since the Unload handler will be called twice, from both the onunload
//and onbeforeunload events, ensure that we only call LMSFinish once.
var finishCalled = false;

//Track whether or not we successfully initialized.
var initialized = false;

var API = null;
function ScormProcessInitialize(){
    var result;
    API = getAPI();
    if (API == null) {
      return;
    }
    result = API.LMSInitialize("");
    if (result == SCORM_FALSE){
        var errorNumber = API.LMSGetLastError();
        var errorString = API.LMSGetErrorString(errorNumber);
        var diagnostic = API.LMSGetDiagnostic(errorNumber);
        
        var errorDescription = "Number: " + errorNumber + "\nDescription: " + errorString + "\nDiagnostic: " + diagnostic;
        
        alert("Error - Could not initialize communication with the LMS.\n\nYour results may not be recorded.\n\n" + errorDescription);
        return;
    }
    API.LMSSetValue("cmi.core.score.min", 0);
    API.LMSSetValue("cmi.core.score.max", 100);
    initialized = true;
 }

function ScormProcessFinish(){
    
    var result;
    API.LMSSetValue("cmi.core.score.raw", yourScore.toFixed(2));
    API.LMSCommit();
    
    //Don't terminate if we haven't initialized or if we've already terminated
    if (initialized == false || finishCalled == true){return;}
    
    result = API.LMSFinish("");
    finishCalled = true;
    if (result == SCORM_FALSE){
        var errorNumber = API.LMSGetLastError();
        var errorString = API.LMSGetErrorString(errorNumber);
        var diagnostic = API.LMSGetDiagnostic(errorNumber);
        
        var errorDescription = "Number: " + errorNumber + "\nDescription: " + errorString + "\nDiagnostic: " + diagnostic;
        
        alert("Error - Could not terminate communication with the LMS.\n\nYour results may not be recorded.\n\n" + errorDescription);
        return;
    }
}

var englishMeaning = [
"big (present-affirmative)", "not big (present-negative)", "big (generic form)", "was big (past-affirmative)", "was not big (past-negative)",
"small (present-affirmative)", "not small (present-negative)", "small (generic form)","was small (past-affirmative)", "was not small (past-negative)",
"expensive/tall (present-affirmative)", "not expensive/tall (present-negative)", "expensive/tall (generic form)", "was expensive/tall (past-affirmative)", "was not expensive/tall (past-negative)",
"cheap (present-affirmative)", "not cheap (present-negative)", "cheap (generic form)", "was cheap (past-affirmative)", "was not cheap (past-negative)",
"new (present-affirmative)", "not new (present-negative)", "new (generic form)", "was new (past-affirmative)", "was not new (past-negative)",
"old (present-affirmative)", "not old (present-negative)", "old (generic form)", "was old (past-affirmative)", "was not old (past-negative)",
"difficult (present-affirmative)", "not difficult (present-negative)", "difficult (generic form)", "was difficult (past-affirmative)", "was not difficult (past-negative)",
"easy (present-affirmative)", "not easy (present-negative)", "easy (generic form)", "was easy (past-affirmative)", "was not easy (past-negative)",
"hot (present-affirmative)", "not hot (present-negative)", "hot (generic form)","was hot (past-affirmative)", "was not hot (past-negative)",
"cold (present-affirmative)", "not cold (present-negative)", "cold (generic form)", "was cold (past-affirmative)", "was not cold (past-negative)",
"good (present-affirmative)", "not good (present-negative)", "good (generic form)","was good (past-affirmative)", "was not good (past-negative)",
"interesting (present-affirmative)", "not interesting (present-negative)", "interesting (generic form)","was interesting (past-affirmative)", "was not interesting (past-negative)",
"busy (present-affirmative)", "not busy (present-negative)", "busy (generic form)","was busy (past-affirmative)", "was not busy (past-negative)",
"delicious (present-affirmative)", "not delicious (present-negative)", "delicious (generic form)","was delicious (past-affirmative)", "was not delicious (past-negative)",
"lively (present-affirmative)", "not lively (present-negative)", "lively (generic form)","was lively (past-affirmative)", "was not lively (past-negative)",
"quiet (present-affirmative)", "not quiet (present-negative)", "quiet (generic form)","was quiet (past-affirmative)", "was not quiet (past-negative)",
"convenient (present-affirmative)", "not convenient (present-negative)", "convenient (generic form)","was convenient (past-affirmative)", "was not convenient (past-negative)",
"famous (present-affirmative)", "not famous (present-negative)", "famous (generic form)","was famous (past-affirmative)", "was not famous (past-negative)",
"beautiful/clean (present-affirmative)", "not beautiful/clean (present-negative)", "beautiful/clean (generic form)","was beautiful/clean (past-affirmative)", "was not beautiful/clean (past-negative)",
"free (present-affirmative)", "not free (present-negative)","free (generic form)", "was free (past-affirmative)", "was not free (past-negative)",
"bad (present-affirmative)", "not bad (present-negative)","bad (generic form)", "was bad (past-affirmative)", "was not bad (past-negative)",
"fun (present-affirmative)", "not fun (present-negative)","fun (generic form)", "was fun (past-affirmative)", "was not fun (past-negative)",
"boring (present-affirmative)", "not boring (present-negative)","boring (generic form)", "was boring (past-affirmative)", "was not boring (past-negative)",
"hard (present-affirmative)", "not hard (present-negative)","hard (generic form)", "was hard (past-affirmative)", "was not hard (past-negative)",
"warm (present-affirmative)", "not warm (present-negative)", "warm (generic form)", "was warm (past-affirmative)", "was not warm (past-negative)",
"cool (present-affirmative)", "not cool (present-negative)", "cool (generic form)", "was cool (past-affirmative)", "was not cool (past-negative)"
 ];
var japaneseMeaning = [
"おおきいです", "おおきくないです", "おおきい", "おおきかったです","おおきくなかったです", "ちいさいです", "ちいさくないです", "ちいさい","ちいさかったです","ちいさくなかったです", "たかいです", "たかくないです",
 "たかい","たかかったです","たかくなかったです", "やすいです", "やすくないです", "やすい","やすかったです","やすくなかったです", "あたらしいです", "あたらしくないです", "あたらしい","あたらしかったです","あたらしくなかったです", 
"ふるいです", "ふるくないです", "ふるい", "ふるかったです","ふるくなかったです",
"むずかしいです", "むずかしくないです", "むずかしい", "むずかしかったです","むずかしくなかったです","かんたんです", "かんたんじゃありません",  "かんたんな", "かんたんでした","かんたんじゃありませんでした",
"あついです","あつくないです","あつい","あつかったです","あつくなかったです","さむいです","さむくないです","さむい","さむかったです","さむくなかったです","いいです","よくないです","いい","よかったです","よくなかったです",
"おもしろいです","おもしろくないです","おもしろい","おもしろかったです","おもしろくなかったです","いそがしいです","いそがしくないです","いそがしい","いそがしかったです","いそがしくなかったです","おいしいです","おいしくないです","おいしい","おいしかったです","おいしくなかったです",
"にぎやかです","にぎやかじゃありません","にぎやかな","にぎやかでした","にぎやかじゃありませんでした","しずかです","しずかじゃありません","しずかな","しずかでした","しずかじゃありませんでした","べんりです","べんりじゃありません","べんりな","べんりでした","べんりじゃありませんでした",
"ゆうめいです","ゆうめいじゃありません","ゆうめいな","ゆうめいでした","ゆうめいじゃありませんでした","きれいです","きれいじゃありません","きれいな","きれいでした","きれいじゃありませんでした",
"ひまです","ひまではありません","ひまな","ひまでした","ひまではありませんでした","わるいです","わるくないです","わるい","わるかったです","わるくなかったです",
"たのしいです","たのしくないです","たのしい","たのしかったです","たのしくなかったです","つまらないです","つまらなくないです","つまらない","つまらなかったです","つまらなくなかったです",
"たいへんです", "たいへんじゃありません", "たいへんな", "たいへんでした", "たいへんじゃありませんでした","あたたかいです", "あたたかくないです", "あたたかい", "あたたかかったです", "あたたかくなかったです",
"すずしいです", "すずしくないです", "すずしい", "すずしかったです", "すずしくなかったです"
];

var currentAnswer = 0;

function generateQuestion(){
       setStat();
	return "<b>Q:</b> How do you say <b>" + englishMeaning[currentAnswer] + "</b> in Japanese? Please type your answer.";
}
function setStat() {
        yourScore = ((totalTried>=20)?((totalCorrect/totalTried)*100):0);
	document.getElementById("currentStat").innerHTML = "<b>Total Answered:</b> " + totalTried + " <b>Total Correct</b>: " + totalCorrect 
		+ " <b>Score: </b>" + yourScore.toFixed(2) + "<br/><font color='blue'> (minimum of 20 tries is required to get a score)</font><br/><br/>";
}
function setNewQuestion() {
        var maxQuestions = japaneseMeaning.length;
        currentAnswer = Math.floor(maxQuestions*Math.random());
        document.getElementById("myQuestion").innerHTML = generateQuestion();
        document.getElementById("answer").innerHTML= "";
	document.getElementById("myTest").value = "";
        isScoreUpdated = false;
}
function correctAnswer(bool, yourAnswer){
  if(!isScoreUpdated){
        totalTried++;
        document.getElementById("answer").innerHTML=(bool?("<font color='green'>Correct!</font> "+englishMeaning[currentAnswer] + ":" + japaneseMeaning[currentAnswer]):("<font color='red'>Try again!</font> You wrote <font color='red'>" + yourAnswer + "</font>! Correct answer for <b>" + englishMeaning[currentAnswer] + "</b> is " + japaneseMeaning[currentAnswer] + "."));
    	totalCorrect= bool?(totalCorrect+1):totalCorrect;
        isScoreUpdated = true;
   }
}

function checkAnswer(){
      var myObj = document.getElementById("myTest");
   var myAns = myObj.value;
//alert(myAns);
   if((myAns != undefined) && (myAns.trim() != "")){
   	correctAnswer(myAns.trim()==japaneseMeaning[currentAnswer], myAns.trim());
        //myObj.value = "";
   }
//alert(currentAnswer);
   //setNewQuestion();
}

function appendValue(obj){
    var CurrentBox = document.getElementById("myTest");
    var caretPos = CurrentBox.selectionStart;
    if((CurrentBox.value != null) && (caretPos != CurrentBox.value.length)) {    
        CurrentBox.value = CurrentBox.value.substring(0, caretPos) + obj.value + CurrentBox.value.substring(caretPos);
     }
   else {
       CurrentBox.value +=obj.value;
   }
}

function doStart() {
	setNewQuestion();
        ScormProcessInitialize();
}
function doUnload() {
	ScormProcessFinish();
}
</script>
</head>
<body style="text-align:center;" onload="doStart()"  onunload="doUnload();">
<table>
<tr>
<td class="topClass">
	   <table border="0">
		<tr>
		<td><h1>Adjective Practice  <font size="5pt" color="green">(Lesson 11)</font></h1></td>
		</tr>
	    </table>
</td>
</tr>
<tr>
<td class="mStyle">
   <div id="currentStat"></div>
     <div class="mStyle">
	<div id="myQuestion" style="font-family: 'UD Digi Kyokasho NK-R', sans-serif;"></div>
        <br/><br/>
        <form>
          Type directly below with Hiragana.<br/><br/>
          Your Answer: <input type="text" class="textfield" id="myTest" size="55"></input>
	<br/><br/>
        <div id="answer" style="font-family: 'UD Digi Kyokasho NK-R', sans-serif;"></div>
          <input type="button" value="NewQuestion" onclick="setNewQuestion()" ></input>
          <input type="button" value="Check Your Answer" onclick="checkAnswer()" ></input>
          
        </form>
     </div>
</td>

</tr>
<tr>
<td class="topClass">
Copyright &copy; m. nowzari
</td>
</tr>
</table>
</body>
</html>
